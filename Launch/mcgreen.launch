<launch>
	<node name="peripheral_manager" pkg="mcgreen_control" respawn="true" type="peripheral_manage.py" />

	<node name="safety_cutoff" pkg="mcgreen_control" respawn="true" type="safety_motor.py" />

	<node name="mode_select" pkg="mcgreen_control" respawn="true" type="mode_select.py" />
 
	<node name="status_control" pkg="mcgreen_control" respawn="true" type="status_control.py" />

	<node name="relative_controller" pkg="mcgreen_control" respawn="true" type="relative_position_controller.py" />

	<machine 
		name="upper_pi"
		address="upper_pi"
		user="upperpi"
		timeout="10"
		env-loader="~/upper_ws/devel/remote_env_loader.sh"
	/>

	<node
		machine="upper_pi"
		name="servo_controller"
		pkg="mcgreen_control"
		type="servo_gpio.py"
	/>
	
	<machine 
		
		name="lower_pi"
		address="lower_pi"
		user="lowerpi"
		timeout="10"
		env-loader="~/lower_ws/devel/remote_env_loader.sh"
	/>

	<node
		machine="lower_pi"
		name="receiver_data"
		pkg="mcgreen_control"
		type="sr.py"
	/>
</launch>
